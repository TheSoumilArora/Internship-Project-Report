\begin{figure}[ht]
    \centering
    \resizebox{\linewidth}{!}{
        \begin{tikzpicture}[auto, node distance=2cm,>=latex']
            % Nodes
            \node [input] (Vb) {7};
            \node [input, below of=Vb, node distance=0.6cm] (Vc) {};
            \node [input, above of=Vb, node distance=0.6cm] (Va) {};
            \node [block, right of=Vb, node distance=2.5cm] (clarke) {Clarke Transform};
            \node [block, right of=clarke, node distance =4cm] (park) {Park Transform};
            \node [block, right of=park, node distance =4.5cm,yshift=-0.5cm] (pid) {PI \\ Controller};
            \node [output, right of=park, node distance=2.5cm,yshift=0.5cm] (output_Vq) {};
            \node [sum, right of=pid,node distance=2.5cm](sumff){$+$};
            \node [block, above of=sumff,node distance=3cm, text width=2.5em](ff){$\omega_{FF}$};
            \node [block, right of=sumff,node distance=2cm, text width=2.5em](integrator){$\frac{1}{S}$};
            \node [output, right of=integrator,node distance =2.5cm](theta_o){};

            % Connections
            \draw [->] (Va) -- node [pos=0] {$V_a$} ([yshift=+0.6cm]clarke.west);
            \draw [->] (Vb) -- node [pos=0] {$V_b$} (clarke.west);
            \draw [->] (Vc) -- node [pos=0] {$V_c$} ([yshift=-0.6cm]clarke.west);

            \draw [->] ([yshift=+0.5cm]clarke.east) -- node [pos=0.2] {$V_\alpha$} ([yshift=+0.5cm]park.west);
            \draw [->] ([yshift=-0.5cm]clarke.east) -- node [pos=0.2] {$V_\beta$}([yshift=-0.5cm]park.west);
            \draw [->] ([yshift=+0.5cm]park.east) -- node [pos=0.3] {$V_d$} (output_Vq);
            \draw [->] ([yshift=-0.5cm]park.east) -- node [pos=0.2] {$V_q$} (pid.west);
            \draw [->] (pid.east) -- (sumff.west);
            \draw [->] (ff.south) -- (sumff.north);
            \draw [->] (sumff.east) -- (integrator.west);
            \draw [->] (integrator.east) -- node [pos=0.8] {$\theta$} (theta_o);
            \draw [->] ([xshift=0.5cm]integrator.east) |-([yshift=-2.5cm]integrator.east) -| (park.south) ;

        \end{tikzpicture}
    }
    \caption{Three Phase PLL.}
    \label{fig:PLL}
\end{figure}

A phase-locked loop (PLL) is a nonlinear negative feedback control system
designed to synchronize its output in both frequency and phase with an input
signal. The concept of PLLs dates back to the 1930s when they were first used
for the synchronous reception of radio signals. Over the years, PLLs have found
applications in numerous fields, including the estimation of fundamental
parameters (such as phase, frequency, and amplitude) of power signals,
measurement of harmonics, interharmonics, and power quality indices,
implementation of adaptive filters and robust controllers, and control of AC
and DC machines. This section provides a detailed overview of the components
and working of a three-phase PLL.

\subsection{Working of Three-Phase PLL}

\subsubsection{Clarke Transformation}
The working of a three-phase PLL begins with the input signals \(V_a\),
\(V_b\), and \(V_c\). These signals are first fed into the Clarke Transform,
which converts them into two orthogonal components \(V_\alpha\) and \(V_\beta\)
in a stationary reference frame. The Clarke Transform simplifies the control
and analysis of three-phase systems by reducing the three-phase signals into a
two-dimensional plane.

\subsubsection{Park Transformation}
The next step involves the Park Transform, which converts the stationary
reference frame components \(V_\alpha\) and \(V_\beta\) into rotating reference
frame components \(V_d\) and \(V_q\). This transformation depends on an
estimated phase angle \(\theta\) generated by the integrator.\\

By transforming sinusoidal signals into DC signals, the Park Transform
facilitates easier control of AC signals. It also allows the use of linear
control methods like PID controllers to regulate the system, which would be
more complex in the original AC signal domain.

\subsubsection{PI Controller}
The \(q\)-axis component \(V_q\) indicates the phase error between the input
signal and the PLL output. If \(V_q\) is zero, the PLL is perfectly
synchronized with the input signal. The \(V_q\) component is fed into the PI
(Proportional-Integral) Controller, which adjusts its output to minimize this
error. The PI controller's output, combined with the feedforward frequency term
\(\omega_{FF}\), is integrated to update the phase angle \(\theta\).

\subsubsection{Integrator}
The integrator (\(\frac{1}{s}\)) plays a crucial role by integrating the output
of the PI controller to generate the estimated phase angle \(\theta\). This
estimated phase angle is continuously fed back into the Park Transform to
adjust the rotating reference frame. The feedback loop persists until the PLL
output is perfectly synchronized with the input signal.

\subsubsection{Summing Junction and Feedforward Path}
To enhance the dynamic performance of the PLL, a feedforward term
\(\omega_{FF}\) is introduced. This term provides a reference frequency to
assist the PLL in quickly adapting to changes in the input frequency. The
summing junction combines the output of the PI controller and the feedforward
path, ensuring coordinated feedback and feedforward control.

\subsubsection{Output}
The final output of the PLL is the estimated phase angle \(\theta\), which is
crucial for synchronization purposes in various applications. This output can
be utilized to synchronize other systems or for further control processes.

In summary, a three-phase PLL is an essential component in modern electrical
and electronic systems, providing reliable synchronization and phase tracking
capabilities for a wide range of applications.
